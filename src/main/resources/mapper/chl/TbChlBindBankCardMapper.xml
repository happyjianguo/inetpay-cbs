<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ylink.inetpay.cbs.chl.dao.TbChlBindBankCardMapper" >
  <resultMap id="BaseResultMap" type="com.ylink.inetpay.common.project.channel.dto.TbChlBindBankCard" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Nov 12 11:26:14 CST 2016.
    -->
    <id column="ID" property="id" jdbcType="VARCHAR" />
    <result column="CHANNEL_CODE" property="channelCode" jdbcType="CHAR" />
    <result column="CUST_ID" property="custId" jdbcType="VARCHAR" />
    <result column="PAY_TYPE" property="payType" jdbcType="CHAR" />
    <result column="BANK_TYPE" property="bankType" jdbcType="CHAR" />
    <result column="ACC_NO" property="accNo" jdbcType="VARCHAR" />
    <result column="ACC_NAME" property="accName" jdbcType="VARCHAR" />
    <result column="ID_TYPE" property="idType" jdbcType="CHAR" />
    <result column="ID_NO" property="idNo" jdbcType="VARCHAR" />
    <result column="AUTH_NO" property="authNo" jdbcType="VARCHAR" />
    <result column="BANK_CODE" property="bankCode" jdbcType="VARCHAR" />
     <result column="IS_DEFAULT" property="isDefault" jdbcType="CHAR" />
    <result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP" />
     <result column="CUST_NAME" property="custName" jdbcType="VARCHAR" />
    <result column="MODIFY_TIME" property="modifyTime" jdbcType="TIMESTAMP" />
      <result column="CARD_TYPE" property="cardType" jdbcType="CHAR"/>
      <result column="MOBILE_NO" property="mobileno" jdbcType="VARCHAR"/>
  </resultMap>
  <resultMap id="PageBaseResultMap" type="com.ylink.inetpay.common.project.channel.dto.TbChlBindBankCard" extends="BaseResultMap">
    <result column="BANK_NAME" property="bankName" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    ID, CHANNEL_CODE, CUST_ID, PAY_TYPE, BANK_TYPE, ACC_NO, ACC_NAME, ID_TYPE, ID_NO,
      AUTH_NO, BANK_CODE, IS_DEFAULT,CUST_NAME,CREATE_TIME, MODIFY_TIME,CARD_TYPE,MOBILE_NO
  </sql>
  
  <sql id="BASE_PAGE_COLUMN_LIST" >
    C.ID, C.CHANNEL_CODE, C.CUST_ID, C.PAY_TYPE, C.BANK_TYPE, C.ACC_NO, C.ACC_NAME, C.ID_TYPE, C.ID_NO, 
    C.AUTH_NO, C.BANK_CODE, C.IS_DEFAULT,C.CREATE_TIME, C.MODIFY_TIME, B.BANK_NAME
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    select 
    <include refid="Base_Column_List" />
    from TB_CHL_BIND_BANK_CARD
    where ID = #{id,jdbcType=VARCHAR}
  </select>
  
   <select id="selectByParam" resultMap="BaseResultMap" parameterType="com.ylink.inetpay.common.project.channel.dto.TbChlBindBankCard" >
    select 
    <include refid="Base_Column_List" />
    from TB_CHL_BIND_BANK_CARD
    where 1=1
       <if test="id != null and id != ''">
           and ID =#{id}
       </if>
     <if test="custId != null and custId != ''" >
       and CUST_ID =#{custId}
      </if>
      <if test="payType != null and payType != ''" >
       and PAY_TYPE = #{payType}
      </if>
      <if test="channelCode != null and channelCode != ''" >
       and CHANNEL_CODE = #{channelCode,jdbcType=CHAR}
      </if>
      <if test="bindChannelType != null and bindChannelType != ''" >
       and  right(CHANNEL_CODE,2) = #{bindChannelType,jdbcType=CHAR}
      </if>
      <if test="bankType != null and bankType != ''" >
       and BANK_TYPE =#{bankType}
      </if>
      <if test="accNo != null and accNo != ''" >
       and ACC_NO = #{accNo}
      </if>
      <if test="accName != null and accName != ''" >
        and ACC_NAME = #{accName}
      </if>
      <if test="idType != null and idType != ''" >
        and ID_TYPE = #{idType}
      </if>
       <if test="isDefault != null and isDefault != ''" >
        and IS_DEFAULT = #{isDefault}
      </if>
      <if test="idNo != null and idNo != ''" >
       and ID_NO = #{idNo}	
      </if>
      <if test="bindStatus != null and bindStatus != ''" >
       and BIND_STATUS = #{bindStatus}	
      </if>
  </select>
  <select id="list" resultMap="PageBaseResultMap" parameterType="com.ylink.inetpay.common.project.channel.dto.TbChlBindBankCard" >
    select 
    <include refid="BASE_PAGE_COLUMN_LIST" />
    from TB_CHL_BIND_BANK_CARD C , TB_CHL_BANK B
    where B.BANK_TYPE = C.BANK_TYPE
     <if test="custId != null and custId != ''" >
       and C.CUST_ID =#{custId}
      </if>
      <if test="payType != null and payType != ''" >
       and C.PAY_TYPE = #{payType}
      </if>
      <if test="bankType != null and bankType != ''" >
       and C.BANK_TYPE =#{bankType}
      </if>
      <if test="accNo != null and accNo != ''" >
       and C.ACC_NO = #{accNo}
      </if>
      <if test="accName != null and accName != ''" >
        and C.ACC_NAME = #{accName}
      </if>
      <if test="idType != null and idType != ''" >
        and C.ID_TYPE = #{idType}
      </if>
      <if test="idNo != null and idNo != ''" >
       and C.ID_NO = #{idNo}	
      </if>
      ORDER BY C.CREATE_TIME DESC
  </select>
  
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    delete from TB_CHL_BIND_BANK_CARD
    where ID = #{id,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.ylink.inetpay.common.project.channel.dto.TbChlBindBankCard" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Nov 12 11:26:14 CST 2016.
    -->
    insert into TB_CHL_BIND_BANK_CARD (ID, CHANNEL_CODE, CUST_ID, 
      PAY_TYPE, BANK_TYPE, ACC_NO, 
      ACC_NAME, ID_TYPE, ID_NO, 
      AUTH_NO, BANK_CODE, CREATE_TIME, 
      MODIFY_TIME,IS_DEFAULT)
    values (#{id,jdbcType=VARCHAR}, #{channelCode,jdbcType=CHAR}, #{custId,jdbcType=VARCHAR}, 
      #{payType,jdbcType=CHAR}, #{bankType,jdbcType=CHAR}, #{accNo,jdbcType=VARCHAR}, 
      #{accName,jdbcType=VARCHAR}, #{idType,jdbcType=CHAR}, #{idNo,jdbcType=VARCHAR}, 
      #{authNo,jdbcType=VARCHAR}, #{bankCode,jdbcType=VARCHAR}, #{createTime,jdbcType=TIMESTAMP}, 
      #{modifyTime,jdbcType=TIMESTAMP},#{isDefault,jdbcType=CHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.ylink.inetpay.common.project.channel.dto.TbChlBindBankCard" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Nov 12 11:26:14 CST 2016.
    -->
    insert into TB_CHL_BIND_BANK_CARD
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        ID,
      </if>
      <if test="channelCode != null" >
        CHANNEL_CODE,
      </if>
      <if test="custId != null" >
        CUST_ID,
      </if>
      <if test="payType != null" >
        PAY_TYPE,
      </if>
      <if test="bankType != null" >
        BANK_TYPE,
      </if>
      <if test="accNo != null" >
        ACC_NO,
      </if>
      <if test="accName != null" >
        ACC_NAME,
      </if>
      <if test="idType != null" >
        ID_TYPE,
      </if>
      <if test="idNo != null" >
        ID_NO,
      </if>
      <if test="authNo != null" >
        AUTH_NO,
      </if>
      <if test="bankCode != null" >
        BANK_CODE,
      </if>
      <if test="createTime != null" >
        CREATE_TIME,
      </if>
      <if test="modifyTime != null" >
        MODIFY_TIME,
      </if>
       <if test="isDefault != null" >
        IS_DEFAULT,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=VARCHAR},
      </if>
      <if test="channelCode != null" >
        #{channelCode,jdbcType=CHAR},
      </if>
      <if test="custId != null" >
        #{custId,jdbcType=VARCHAR},
      </if>
      <if test="payType != null" >
        #{payType,jdbcType=CHAR},
      </if>
      <if test="bankType != null" >
        #{bankType,jdbcType=CHAR},
      </if>
      <if test="accNo != null" >
        #{accNo,jdbcType=VARCHAR},
      </if>
      <if test="accName != null" >
        #{accName,jdbcType=VARCHAR},
      </if>
      <if test="idType != null" >
        #{idType,jdbcType=CHAR},
      </if>
      <if test="idNo != null" >
        #{idNo,jdbcType=VARCHAR},
      </if>
      <if test="authNo != null" >
        #{authNo,jdbcType=VARCHAR},
      </if>
      <if test="bankCode != null" >
        #{bankCode,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyTime != null" >
        #{modifyTime,jdbcType=TIMESTAMP},
      </if>
       <if test="isDefault != null" >
       IS_DEFAULT = #{isDefault},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.ylink.inetpay.common.project.channel.dto.TbChlBindBankCard" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Nov 12 11:26:14 CST 2016.
    -->
    update TB_CHL_BIND_BANK_CARD
    <set >
      <if test="channelCode != null" >
        CHANNEL_CODE = #{channelCode,jdbcType=CHAR},
      </if>
      <if test="custId != null" >
        CUST_ID = #{custId,jdbcType=VARCHAR},
      </if>
      <if test="payType != null" >
        PAY_TYPE = #{payType,jdbcType=CHAR},
      </if>
      <if test="bankType != null" >
        BANK_TYPE = #{bankType,jdbcType=CHAR},
      </if>
      <if test="accNo != null" >
        ACC_NO = #{accNo,jdbcType=VARCHAR},
      </if>
      <if test="accName != null" >
        ACC_NAME = #{accName,jdbcType=VARCHAR},
      </if>
      <if test="idType != null" >
        ID_TYPE = #{idType,jdbcType=CHAR},
      </if>
      <if test="idNo != null" >
        ID_NO = #{idNo,jdbcType=VARCHAR},
      </if>
      <if test="authNo != null" >
        AUTH_NO = #{authNo,jdbcType=VARCHAR},
      </if>
      <if test="bankCode != null" >
        BANK_CODE = #{bankCode,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyTime != null" >
        MODIFY_TIME = #{modifyTime,jdbcType=TIMESTAMP},
      </if>
       <if test="isDefault != null" >
        IS_DEFAULT = #{isDefault,jdbcType=CHAR},
      </if>
    </set>
    where ID = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.ylink.inetpay.common.project.channel.dto.TbChlBindBankCard" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Nov 12 11:26:14 CST 2016.
    -->
    update TB_CHL_BIND_BANK_CARD
    set CHANNEL_CODE = #{channelCode,jdbcType=CHAR},
      CUST_ID = #{custId,jdbcType=VARCHAR},
      PAY_TYPE = #{payType,jdbcType=CHAR},
      BANK_TYPE = #{bankType,jdbcType=CHAR},
      ACC_NO = #{accNo,jdbcType=VARCHAR},
      ACC_NAME = #{accName,jdbcType=VARCHAR},
      ID_TYPE = #{idType,jdbcType=CHAR},
      ID_NO = #{idNo,jdbcType=VARCHAR},
      AUTH_NO = #{authNo,jdbcType=VARCHAR},
      BANK_CODE = #{bankCode,jdbcType=VARCHAR},
      CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      MODIFY_TIME = #{modifyTime,jdbcType=TIMESTAMP},
      IS_DEFAULT = #{isDefault,jdbcType=CHAR}
    where ID = #{id,jdbcType=VARCHAR}
  </update>
</mapper>